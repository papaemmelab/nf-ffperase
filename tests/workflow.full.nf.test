nextflow_pipeline {

    name "Test Classify Step"
    script "main.nf"
    autoSort false

    test("Should full pipeline: Preprocess + Classify") {
        // when {
        //     workflow {
        //         """
        //         input[0] = Channel.fromPath('tests/data/input_df.tsv')
        //         """
        //     }
        // }
        then {
            with(workflow) {
                assert success
                assert exitStatus == 0
                assert trace.tasks().size() == 6
                assert trace.succeeded().size() == 6
            }
        }
    }

}